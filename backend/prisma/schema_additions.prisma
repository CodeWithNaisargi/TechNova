// ADD THESE MODELS TO THE END OF YOUR schema.prisma FILE

// ASSIGNMENT PROGRESS TRACKING
model AssignmentProgress {
  id           String   @id @default(uuid())
  userId       String
  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  assignmentId String
  assignment   Assignment @relation(fields: [assignmentId], references: [id], onDelete: Cascade)
  status       String   @default("NOT_STARTED") // NOT_STARTED | IN_PROGRESS | COMPLETED | SUBMITTED
  startedAt    DateTime?
  completedAt  DateTime?
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  @@unique([userId, assignmentId])
}

// CERTIFICATE MODEL
model Certificate {
  id           String   @id @default(uuid())
  userId       String
  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  courseId     String
  courseName   String
  studentName  String
  issueDate    DateTime @default(now())
  certificateId String  @unique // e.g., "CERT-2024-REACT-001"
  completionPercentage Int @default(100)
  
  createdAt    DateTime @default(now())

  @@unique([userId, courseId])
}
